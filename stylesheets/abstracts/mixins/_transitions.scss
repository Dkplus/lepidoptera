@import 'compass/css3/animation';
@import 'compass/css3/transition';
@import 'compass/css3/transform';

//
// Transitions
//
// Lepidoptera ships different animations as *mixins* that can be applied via `@include`.
//
// Styleguide abstracts.mixins.transitions
//

$_le-slide-in-origins: (
  left: (x: -2em, y: 0),
  right: (x: 2em, y: 0),
  bottom: (x: 0, y: 2em),
  top: (x: 0, y: -2em),
);

//
// Sliding in on load
//
// The mixin `slides-in-on-load` allow an element to slide in on load.
//
// $duration - Duration of the animation (default: `0.3s`)
// $origin   - Origin from where to slide in (default: `bottom`)
//
// Styleguide abstracts.mixins.animation.slides-in-on-load
//
@mixin slides-in-transition($duration: 0.3s, $origin: 'bottom') {
  @if not map-has-key($_le-slide-in-origins, $origin) {
    @error '$direction must be one of (top, left, bottom, right) but was ' + $origin;
  }
  @include transition(translate $duration cubic-bezier(0.4, 0, 0.2, 1), opacity $duration cubic-bezier(0.4, 0, 0.2, 1));
  @include translateX(0);
  @include translateY(0);
  opacity: 1;
}

@mixin slides-out-transition($duration: 0.3s, $target: 'bottom') {
  @if not map-has-key($_le-slide-in-origins, $target) {
    @error '$direction must be one of (top, left, bottom, right) but was ' + $target;
  }
  @include transition(translate $duration cubic-bezier(0.4, 0, 0.2, 1), opacity $duration cubic-bezier(0.4, 0, 0.2, 1));
  @include translateX(map-get(map-get($_le-slide-in-origins, $target), 'x'));
  @include translateY(-1 * map-get(map-get($_le-slide-in-origins, $target), 'y'));
  opacity: 0;
}
